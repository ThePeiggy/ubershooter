<!DOCTYPE html>
<html>
<head>
  <title>Uofthacks</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>

  <%= csrf_meta_tags %>

  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script type="text/javascript" src="http://earth-api-samples.googlecode.com/svn/trunk/lib/math3d.js"></script>
  <script type="text/javascript" src="http://earth-api-samples.googlecode.com/svn/trunk/lib/keyboard-focus-hack.js"></script>
  <script type="text/javascript">
    google.load("earth", "1", {"other_params":"sensor=true"});
    google.load("maps", "2", {"other_params":"sensor=true"});

    var ge = null;
    var cam;

    function init() {
      init3D();
    }

    function initCB(object) {
      ge = object;
      ge.getOptions().setFlyToSpeed(100);

      ge.getLayerRoot().enableLayerById(ge.LAYER_BUILDINGS, true);

      cam = new FirstPersonCam();
      cam.updateCamera();
      ge.getWindow().setVisibility(true);

      keyboardFocusHack(ge);
    }

    function failureCB(object) {
      /***
       * This function will be called if plugin fails to load, in case
       * you need to handle that error condition.
       ***/
    }

    function init3D() {
      google.earth.createInstance("map3d", initCB, failureCB);
    }
  </script>
</head>
<body onload='init()' onunload="GUnload()" onKeyDown="return keyDown(event);" onKeyUp="return keyUp(event);" id='body'>

<%= yield %>

</body>
</html>
